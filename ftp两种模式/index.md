# FTP两种模式




> 主被动模式，阐述的是数据传输过程
>
> 主被动模式，选择权在客户机上！

> 所谓主或被，是站在服务器角度说的



### 主动模式

端口：`21端口(控制端口) + 20端口(数据端口)`

传输数据的时候服务器主动-->主动模式

服务器的20主动向客户机的随机端口拨号，建立数据通道



> 所以说，如果客户机开着防火墙，你用主动模式是连接不上FTP服务器的(服务端访问客户端的'随机'端口会被客户机防火墙拦截)
>
> 主动模式不适合客户机开防火墙时候使用



<img src="https://geoer666-1257264766.cos.ap-beijing.myqcloud.com/%E4%B8%BB%E5%8A%A8%E6%A8%A1%E5%BC%8Fftp.jpg" alt="盗张图"></img>





### 被动模式

端口：`21端口(控制端口) + 随机端口(作为数据端口)`

传输数据的时候服务器被动-->被动模式

客户机主动向服务器的随机端口拨号，建立数据通道



> 所以说，如果服务器开着防火墙，你用被动模式是连接不上FTP服务器的(客户机访问服务器的随机端口会被服务器防火墙所拦截)
>
> 被动模式不适合服务机开防火墙时候使用



<img src="https://geoer666-1257264766.cos.ap-beijing.myqcloud.com/%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8Fftp.jpg" alt="盗张图"></img>


---

> 作者: [剑胆琴心](http://shuai06.github.io)  
> URL: https://shuai06.github.io/ftp%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%BC%8F/  

